{"version":3,"sources":["main.js"],"names":["$searchButton","$","on","click","css","mouseout","$inputName","$inputUrl","$titleName","$titleUrl","focus","addClass","blur","removeClass","addButton","document","querySelector","favDialog","addEventListener","onOpen","showModal","alert","cancel","e","close","$done","change","val","length","removeAttr","attr","render","$itemBox","$lastLi","x","localStorage","getItem","xObject","JSON","parse","pic","hashMap","name","url","$titleFieldEdit","$urlFieldEdit","find","remove","forEach","node","index","$li","insertBefore","window","open","stopPropagation","console","log","cancelEdit","favDialogEdit","editButton","querySelectorAll","itemBox","deleteEdit","item","a","removeChild","children","b","innerHTML","i","splice","titleFieldEdit","urlFieldEdit","titleEdit","urlEdit","value","indexOf","push","onbeforeunload","string","stringify","setItem","$inputUrlEdit","$doneEdit"],"mappings":"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","file":"main.f3fc7626.js","sourceRoot":"..\\src","sourcesContent":["//搜索框\r\nconst $searchButton = $('.searchForm>button')\r\n$('.searchForm>input').on({\r\n    click: () => {\r\n        $searchButton.css('opacity', '1')\r\n    },\r\n    mouseout: () => {\r\n        $searchButton.css('opacity', '0')\r\n    }\r\n})\r\n\r\n\r\n//增加节点\r\n//输入框focus效果\r\nconst $inputName = $('.input-name')\r\nconst $inputUrl = $('.input-url')\r\nconst $titleName = $('.title-name')\r\nconst $titleUrl = $('.title-url')\r\n\r\n$inputName.focus(() =>{\r\n    $titleName.addClass('focused')\r\n})\r\n\r\n$inputName.blur(() =>{\r\n    $titleName.removeClass('focused')\r\n})\r\n\r\n$inputUrl.focus(() =>{\r\n    $titleUrl.addClass('focused')\r\n})\r\n\r\n$inputUrl.blur(() =>{\r\n    $titleUrl.removeClass('focused')\r\n})\r\n\r\n\r\n//添加快捷方式\r\nconst addButton = document.querySelector('.addButton')\r\nconst favDialog = document.querySelector('#favDialog')\r\n\r\naddButton.addEventListener('click', function onOpen() {\r\n    if (typeof favDialog.showModal === \"function\") {\r\n        favDialog.showModal();\r\n    } else {\r\n        alert(\"The dialog API is not supported by this browser\");\r\n    };\r\n});\r\n\r\n//取消\r\nconst cancel = document.querySelector('#cancel')\r\ncancel.addEventListener('click',(e)=>{\r\n    favDialog.close();\r\n})\r\n\r\n//完成动效\r\nconst $done = $('#done')\r\n$inputUrl.change(()=>{\r\n    if ($inputUrl.val().length > 0 ){\r\n        $done.removeAttr('disabled')\r\n    }else if ($inputUrl.val().length === 0){\r\n        $done.attr('disabled','disabled')\r\n    }\r\n})\r\n//点击完成\r\n$done.on('click',()=>{\r\n    render()\r\n})\r\n\r\n//添加子节点\r\n\r\nconst $itemBox = $('.itemBox')\r\nconst $lastLi = $('.addItem')\r\nconst x = localStorage.getItem('x')\r\nconst xObject = JSON.parse(x)\r\nconst pic = []\r\nconst hashMap = xObject || [\r\n    {name: 'acfun', url: 'https://www.acfun.cn'},\r\n    {name: 'BiliBili', url: 'https://www.bilibili.com'}\r\n]\r\nconst $titleFieldEdit = $('#title-field-edit')\r\nconst $urlFieldEdit = $('#url-field-edit')\r\nconst render = () => {\r\n    $itemBox.find('.item').remove()\r\n    hashMap.forEach((node,index) => {\r\n        const $li =  $(`\r\n                <div  class=\"itemContainer item\" draggable=\"true\" >\r\n                    <div class=\"itemLinkBox\">\r\n                        <div class=\"itemWrapper\">\r\n                            <div class=\"itemLogo\">\r\n                                <svg class=\"icon\">\r\n                                    <use xlink:href=\"#icon-Addto\"></use>\r\n                                </svg>\r\n                            </div>\r\n                            <div class=\"itemTitle\">${node.name}</div>\r\n                        </div>\r\n                    </div>\r\n                    <button class=\"editButton\">\r\n                        <svg class=\"icon\">\r\n                            <use xlink:href=\"#icon-point\"></use>\r\n                        </svg>\r\n                    </button>\r\n                </div>\r\n        `).insertBefore($lastLi)\r\n\r\n        $li.on('click', () => {\r\n            window.open(node.url)\r\n        })\r\n\r\n        $li.on('click', '.editButton', (e) => {\r\n            e.stopPropagation() // 阻止冒泡\r\n        })\r\n        $titleFieldEdit.val() === node.name;\r\n        console.log($titleFieldEdit.val());\r\n        $urlFieldEdit.val() === node.url\r\n\r\n    })\r\n\r\n\r\n    //取消\r\n    const cancelEdit = document.querySelector('#cancel-edit')\r\n    cancelEdit.addEventListener('click',(e)=>{\r\n        favDialogEdit.close();\r\n    })\r\n\r\n    //打开编辑dialog\r\n    const editButton = document.querySelectorAll('.editButton')\r\n    const favDialogEdit = document.querySelector('#favDialog-edit')\r\n    const itemBox = document.querySelector('.itemBox')\r\n    const deleteEdit = document.querySelector('#delete-edit')\r\n    editButton.forEach((item,index)=>{\r\n        item.addEventListener('click', function onOpen() {\r\n            console.log('第一次'+index);\r\n            if (typeof favDialogEdit.showModal === \"function\") {\r\n                favDialogEdit.showModal();\r\n            } else {\r\n                alert(\"The dialog API is not supported by this browser\");\r\n            }\r\n\r\n            //删除节点\r\n            deleteEdit.addEventListener('click',()=>{\r\n\r\n                console.log('第二次'+index)\r\n                console.log(hashMap);\r\n                const a = itemBox.removeChild(itemBox.children[index])\r\n                console.log(a);\r\n                const b = a.querySelector('.itemTitle')\r\n                console.log(b);\r\n                console.log(b.innerHTML);\r\n                for (let i = 0;i<hashMap.length;i++){\r\n                    if (b.innerHTML ===hashMap[i].name){\r\n                        hashMap.splice(i,1)\r\n                        break\r\n                    }\r\n                }\r\n\r\n                // hashMap.forEach(node=>{\r\n                //     if (b.innerHTML ===node.name){\r\n                //         hashMap.splice(index,1)\r\n                //\r\n                //     };\r\n                //\r\n                // })\r\n                // hashMap.splice(index, 1)\r\n                console.log(hashMap);\r\n                render()\r\n                favDialogEdit.close()\r\n\r\n            })\r\n            const titleFieldEdit = document.querySelector('#title-field-edit')\r\n            const urlFieldEdit = document.querySelector('#url-field-edit')\r\n            const titleEdit =  item.querySelector('.itemTitle')\r\n            const urlEdit = item.querySelector('.itemTitle')\r\n            titleFieldEdit.value === titleEdit.innerHTML\r\n\r\n        })\r\n\r\n    })\r\n}\r\n\r\nrender()\r\n\r\n$done.on('click', () => {\r\n    let url = $inputUrl.val()\r\n    let name = $inputName.val()\r\n    if (url.indexOf('http') !== 0 && url.length!==0) {\r\n        url = 'https://' + url\r\n    }\r\n    hashMap.push({\r\n        name: name,\r\n        url: url\r\n    })\r\n    render()\r\n})\r\n\r\n\r\nwindow.onbeforeunload = () => {\r\n    const string = JSON.stringify(hashMap)\r\n    localStorage.setItem('x', string)\r\n}\r\n\r\n\r\n\r\n\r\n//默认名称和地址\r\n\r\n//完成\r\nconst $inputUrlEdit =$('#url-field-edit')\r\nconst $doneEdit = $('#done-edit')\r\n$inputUrlEdit.change(()=>{\r\n    if ($inputUrlEdit.val().length > 0 ){\r\n        $doneEdit.removeAttr('disabled')\r\n    }else if ($inputUrlEdit.val().length === 0){\r\n        $doneEdit.attr('disabled','disabled')\r\n    }\r\n})\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]}