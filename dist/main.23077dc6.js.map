{"version":3,"sources":["main.js"],"names":["$searchButton","$","on","click","css","mouseout","$inputName","$inputUrl","$titleName","$titleUrl","addButton","document","querySelector","favDialog","favDialogEdit","$favDialogEdit","cancel","cancelEdit","$inputNameEdit","$inputUrlEdit","$doneEdit","$done","$deleteEdit","x","localStorage","getItem","xObject","JSON","parse","hashMap","name","url","$itemBox","$lastLi","reload","focus","addClass","blur","removeClass","addEventListener","onOpen","showModal","alert","e","close","change","val","length","removeAttr","attr","getLocalStorage","asyncLocalStorage","positive","string","stringify","window","setItem","getHistoryValue","index","content","value","indexOf","type","splice","push","console","log","createLi","querySelectorAll","forEach","item","idValue","id","find","remove","node","$li","insertBefore","open","stopPropagation"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;AAGA,IAAMA,aAAa,GAAGC,CAAC,CAAC,oBAAD,CAAvB;AACAA,CAAC,CAAC,mBAAD,CAAD,CAAuBC,EAAvB,CAA0B;AACtBC,EAAAA,KAAK,EAAE,iBAAM;AACTH,IAAAA,aAAa,CAACI,GAAd,CAAkB,SAAlB,EAA6B,GAA7B;AACH,GAHqB;AAItBC,EAAAA,QAAQ,EAAE,oBAAM;AACZL,IAAAA,aAAa,CAACI,GAAd,CAAkB,SAAlB,EAA6B,GAA7B;AACH;AANqB,CAA1B;AASA;;;;;AAKA,IAAME,UAAU,GAAGL,CAAC,CAAC,aAAD,CAApB;AACA,IAAMM,SAAS,GAAGN,CAAC,CAAC,YAAD,CAAnB;AACA,IAAMO,UAAU,GAAGP,CAAC,CAAC,aAAD,CAApB;AACA,IAAMQ,SAAS,GAAGR,CAAC,CAAC,YAAD,CAAnB;AAEA,IAAMS,SAAS,GAAGC,QAAQ,CAACC,aAAT,CAAuB,YAAvB,CAAlB;AACA,IAAMC,SAAS,GAAGF,QAAQ,CAACC,aAAT,CAAuB,YAAvB,CAAlB,EAEA;;AACA,IAAME,aAAa,GAAGH,QAAQ,CAACC,aAAT,CAAuB,iBAAvB,CAAtB;AACA,IAAMG,cAAc,GAAGd,CAAC,CAAC,iBAAD,CAAxB;AAEA,IAAMe,MAAM,GAAGL,QAAQ,CAACC,aAAT,CAAuB,SAAvB,CAAf;AACA,IAAMK,UAAU,GAAGN,QAAQ,CAACC,aAAT,CAAuB,cAAvB,CAAnB;AAEA,IAAMM,cAAc,GAAGjB,CAAC,CAAC,mBAAD,CAAxB;AACA,IAAMkB,aAAa,GAAElB,CAAC,CAAC,iBAAD,CAAtB;AACA,IAAMmB,SAAS,GAAGnB,CAAC,CAAC,YAAD,CAAnB;AAEA,IAAMoB,KAAK,GAAGpB,CAAC,CAAC,OAAD,CAAf;AACA,IAAMqB,WAAW,GAAGrB,CAAC,CAAC,cAAD,CAArB;AAEA,IAAMsB,CAAC,GAAGC,YAAY,CAACC,OAAb,CAAqB,GAArB,CAAV;AACA,IAAMC,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAWL,CAAX,CAAhB;AACA,IAAIM,OAAO,GAAG,CACV;AAACC,EAAAA,IAAI,EAAE,eAAP;AAAwBC,EAAAA,GAAG,EAAE;AAA7B,CADU,EAEV;AAACD,EAAAA,IAAI,EAAE,QAAP;AAAiBC,EAAAA,GAAG,EAAE;AAAtB,CAFU,EAGV;AAACD,EAAAA,IAAI,EAAE,MAAP;AAAeC,EAAAA,GAAG,EAAE;AAApB,CAHU,EAIV;AAACD,EAAAA,IAAI,EAAE,IAAP;AAAaC,EAAAA,GAAG,EAAE;AAAlB,CAJU,CAAd;AAMA,IAAMC,QAAQ,GAAG/B,CAAC,CAAC,UAAD,CAAlB;AACA,IAAMgC,OAAO,GAAGhC,CAAC,CAAC,UAAD,CAAjB;AAEA;;;;AAGA;AACAiC,MAAM,CAAC,OAAD,CAAN;AAGA;;;AAGA;;AACA5B,UAAU,CAAC6B,KAAX,CAAiB,YAAK;AAClB3B,EAAAA,UAAU,CAAC4B,QAAX,CAAoB,SAApB;AACH,CAFD;AAIA9B,UAAU,CAAC+B,IAAX,CAAgB,YAAK;AACjB7B,EAAAA,UAAU,CAAC8B,WAAX,CAAuB,SAAvB;AACH,CAFD;AAIA/B,SAAS,CAAC4B,KAAV,CAAgB,YAAK;AACjB1B,EAAAA,SAAS,CAAC2B,QAAV,CAAmB,SAAnB;AACH,CAFD;AAIA7B,SAAS,CAAC8B,IAAV,CAAe,YAAK;AAChB5B,EAAAA,SAAS,CAAC6B,WAAV,CAAsB,SAAtB;AACH,CAFD;AAIApB,cAAc,CAACiB,KAAf,CAAqB,YAAK;AACtB3B,EAAAA,UAAU,CAAC4B,QAAX,CAAoB,SAApB;AACH,CAFD;AAIAlB,cAAc,CAACmB,IAAf,CAAoB,YAAK;AACrB7B,EAAAA,UAAU,CAAC8B,WAAX,CAAuB,SAAvB;AACH,CAFD;AAIAnB,aAAa,CAACgB,KAAd,CAAoB,YAAK;AACrB1B,EAAAA,SAAS,CAAC2B,QAAV,CAAmB,SAAnB;AACH,CAFD;AAIAjB,aAAa,CAACkB,IAAd,CAAmB,YAAK;AACpB5B,EAAAA,SAAS,CAAC6B,WAAV,CAAsB,SAAtB;AACH,CAFD,GAIA;;AACA5B,SAAS,CAAC6B,gBAAV,CAA2B,OAA3B,EAAoC,SAASC,MAAT,GAAkB;AAClD,MAAI,OAAO3B,SAAS,CAAC4B,SAAjB,KAA+B,UAAnC,EAA+C;AAC3C5B,IAAAA,SAAS,CAAC4B,SAAV;AACH,GAFD,MAEO;AACHC,IAAAA,KAAK,CAAC,iDAAD,CAAL;AACH;;AAAA;AACJ,CAND,GASA;;AACA1B,MAAM,CAACuB,gBAAP,CAAwB,OAAxB,EAAgC,UAACI,CAAD,EAAK;AACjC9B,EAAAA,SAAS,CAAC+B,KAAV;AACH,CAFD,GAIA;;AACA3B,UAAU,CAACsB,gBAAX,CAA4B,OAA5B,EAAoC,UAACI,CAAD,EAAK;AACrC7B,EAAAA,aAAa,CAAC8B,KAAd;AACH,CAFD,GAIA;;AACArC,SAAS,CAACsC,MAAV,CAAiB,YAAI;AACjB,MAAItC,SAAS,CAACuC,GAAV,GAAgBC,MAAhB,GAAyB,CAA7B,EAAgC;AAC5B1B,IAAAA,KAAK,CAAC2B,UAAN,CAAiB,UAAjB;AACH,GAFD,MAEM,IAAIzC,SAAS,CAACuC,GAAV,GAAgBC,MAAhB,KAA2B,CAA/B,EAAiC;AACnC1B,IAAAA,KAAK,CAAC4B,IAAN,CAAW,UAAX,EAAsB,UAAtB;AACH;AACJ,CAND,GAQA;;AACA9B,aAAa,CAAC0B,MAAd,CAAqB,YAAI;AACrB,MAAI1B,aAAa,CAAC2B,GAAd,GAAoBC,MAApB,GAA6B,CAAjC,EAAoC;AAChC3B,IAAAA,SAAS,CAAC4B,UAAV,CAAqB,UAArB;AACH,GAFD,MAEM,IAAI7B,aAAa,CAAC2B,GAAd,GAAoBC,MAApB,KAA+B,CAAnC,EAAqC;AACvC3B,IAAAA,SAAS,CAAC6B,IAAV,CAAe,UAAf,EAA0B,UAA1B;AACH;AACJ,CAND,GASA;;AACA5B,KAAK,CAACnB,EAAN,CAAS,OAAT,EAAkB,YAAM;AACpBgC,EAAAA,MAAM,CAAC,QAAD,CAAN;AACH,CAFD,GAIA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;AAIA;;;;;AAIA,SAASgB,eAAT,GAA2B;AACvB,MAAI3B,CAAJ,EAAM;AACF,WAAQG,OAAR;AACH,GAFD,MAEK;AACD,WAAOG,OAAP;AACH;AACJ;AAED;;;;;;;AAMA,SAASsB,iBAAT,CAA2BC,QAA3B,EAAqC;AACjC,MAAIA,QAAJ,EAAc;AACV,QAAMC,MAAM,GAAG1B,IAAI,CAAC2B,SAAL,CAAezB,OAAf,CAAf;AACA0B,IAAAA,MAAM,CAAC/B,YAAP,CAAoBgC,OAApB,CAA4B,GAA5B,EAAiCH,MAAjC;AACH,GAHD,MAGO;AACHxB,IAAAA,OAAO,GAAGqB,eAAe,EAAzB;AACH;AACJ;AAED;;;;;AAGA,IAAMO,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAW;AAC/B,MAAIC,OAAO,GAAG9B,OAAO,CAAC6B,KAAD,CAArB;AACA,MAAI3B,GAAG,GAAG4B,OAAO,CAAC5B,GAAlB;AACA,MAAID,IAAI,GAAG6B,OAAO,CAAC7B,IAAnB;AACAnB,EAAAA,QAAQ,CAACC,aAAT,CAAuB,mBAAvB,EAA4CgD,KAA5C,GAAoD9B,IAApD;;AACA,MAAIC,GAAG,CAAC8B,OAAJ,CAAY,MAAZ,MAAwB,CAAxB,IAA6B9B,GAAG,CAACgB,MAAJ,KAAa,CAA9C,EAAiD;AAC7ChB,IAAAA,GAAG,GAAG,aAAaA,GAAnB;AACH;;AACDpB,EAAAA,QAAQ,CAACC,aAAT,CAAuB,iBAAvB,EAA0CgD,KAA1C,GAAkD7B,GAAlD;AACH,CATD;AAYA;;;;;;;;;AAQA,SAASG,MAAT,CAAgB4B,IAAhB,EAAqBJ,KAArB,EAA4B;AACxB,MAAII,IAAI,KAAK,OAAb,EAAqB;AACjBX,IAAAA,iBAAiB,CAAC,KAAD,CAAjB;AACH;;AACD,MAAGW,IAAI,KAAK,QAAZ,EAAqB;AACjBjC,IAAAA,OAAO,CAACkC,MAAR,CAAeL,KAAf,EAAqB,CAArB;AACAP,IAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACH;;AACD,MAAGW,IAAI,KAAK,QAAZ,EAAqB;AACjB,QAAI/B,GAAG,GAAGxB,SAAS,CAACuC,GAAV,EAAV;AACA,QAAIhB,IAAI,GAAGxB,UAAU,CAACwC,GAAX,EAAX;;AACA,QAAIf,GAAG,CAAC8B,OAAJ,CAAY,MAAZ,MAAwB,CAAxB,IAA6B9B,GAAG,CAACgB,MAAJ,KAAa,CAA9C,EAAiD;AAC7ChB,MAAAA,GAAG,GAAG,aAAaA,GAAnB;AACH;;AACDF,IAAAA,OAAO,CAACmC,IAAR,CAAa;AACTlC,MAAAA,IAAI,EAAEA,IADG;AAETC,MAAAA,GAAG,EAAEA;AAFI,KAAb;AAIAoB,IAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACH;;AACD,MAAGW,IAAI,KAAK,MAAZ,EAAmB;AACf,QAAI/B,IAAG,GAAGZ,aAAa,CAAC2B,GAAd,EAAV;;AACA,QAAIhB,KAAI,GAAGZ,cAAc,CAAC4B,GAAf,EAAX;;AACA,QAAIf,IAAG,CAAC8B,OAAJ,CAAY,MAAZ,MAAwB,CAAxB,IAA6B9B,IAAG,CAACgB,MAAJ,KAAa,CAA9C,EAAiD;AAC7ChB,MAAAA,IAAG,GAAG,aAAaA,IAAnB;AACH;;AACDF,IAAAA,OAAO,CAACkC,MAAR,CAAeL,KAAf,EAAqB,CAArB;AACAO,IAAAA,OAAO,CAACC,GAAR,CAAYrC,OAAO,CAACkC,MAAR,CAAeL,KAAf,EAAsB,CAAtB,CAAZ;AACA7B,IAAAA,OAAO,CAACkC,MAAR,CAAeL,KAAf,EAAqB,CAArB,EAAuB;AACnB5B,MAAAA,IAAI,EAAEA,KADa;AAEnBC,MAAAA,GAAG,EAAEA;AAFc,KAAvB;AAIAkC,IAAAA,OAAO,CAACC,GAAR,CAAYrC,OAAZ;AACAsB,IAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACH;;AACDgB,EAAAA,QAAQ,GAnCgB,CAqCxB;;AACAxD,EAAAA,QAAQ,CAACyD,gBAAT,CAA0B,aAA1B,EAAyCC,OAAzC,CAAiD,UAACC,IAAD,EAAMZ,KAAN,EAAe;AAC5DY,IAAAA,IAAI,CAAC/B,gBAAL,CAAsB,OAAtB,EAA+B,SAASC,MAAT,GAAkB;AAC7C,UAAI,OAAO1B,aAAa,CAAC2B,SAArB,KAAmC,UAAvC,EAAmD;AAC/C3B,QAAAA,aAAa,CAAC2B,SAAd;AACH,OAFD,MAEO;AACHC,QAAAA,KAAK,CAAC,iDAAD,CAAL;AACH,OAL4C,CAM7C;;;AACA,UAAI6B,OAAO,GAAGD,IAAI,CAACE,EAAnB;AACAP,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAiBK,OAA7B;AACAd,MAAAA,eAAe,CAACc,OAAD,CAAf,CAT6C,CAW7C;;AACAnD,MAAAA,SAAS,CAAClB,EAAV,CAAa,OAAb,EAAsB,YAAM;AACxB2B,QAAAA,OAAO,CAACkC,MAAR,CAAeQ,OAAf,EAAuB,CAAvB;AACApB,QAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACH,OAHD,EAZ6C,CAiB7C;;AACA7B,MAAAA,WAAW,CAACpB,EAAZ,CAAe,OAAf,EAAuB,YAAM;AACzBgC,QAAAA,MAAM,CAAC,QAAD,EAAUqC,OAAV,CAAN;AACAzD,QAAAA,aAAa,CAAC8B,KAAd;AACH,OAHD;AAIH,KAtBD;AAuBH,GAxBD;AAyBH;AAGD;;;;;;AAKA,SAASuB,QAAT,GAAqB;AACjBnC,EAAAA,QAAQ,CAACyC,IAAT,CAAc,OAAd,EAAuBC,MAAvB;AACA7C,EAAAA,OAAO,CAACwC,OAAR,CAAgB,UAACM,IAAD,EAAOjB,KAAP,EAAiB;AAE7B,QAAMkB,GAAG,GAAG3E,CAAC,8gBASgC0E,IAAI,CAAC7C,IATrC,uIAYgC4B,KAZhC,8OAAD,CAkBTmB,YAlBS,CAkBI5C,OAlBJ,CAAZ,CAF6B,CAsB7B;;AACA2C,IAAAA,GAAG,CAAC1E,EAAJ,CAAO,OAAP,EAAgB,YAAM;AAClBqD,MAAAA,MAAM,CAACuB,IAAP,CAAYH,IAAI,CAAC5C,GAAjB;AACH,KAFD;AAIA6C,IAAAA,GAAG,CAAC1E,EAAJ,CAAO,OAAP,EAAgB,aAAhB,EAA+B,UAACyC,CAAD,EAAO;AAClCA,MAAAA,CAAC,CAACoC,eAAF,GADkC,CACd;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH,KAfD;AAiBH,GA5CD;AA6CH","file":"main.23077dc6.js","sourceRoot":"..\\src","sourcesContent":["/**\r\n * 搜索框动效\r\n */\r\nconst $searchButton = $('.searchForm>button')\r\n$('.searchForm>input').on({\r\n    click: () => {\r\n        $searchButton.css('opacity', '1')\r\n    },\r\n    mouseout: () => {\r\n        $searchButton.css('opacity', '0')\r\n    }\r\n})\r\n\r\n/**\r\n * 弹窗参数\r\n *\r\n */\r\n\r\nconst $inputName = $('.input-name')\r\nconst $inputUrl = $('.input-url')\r\nconst $titleName = $('.title-name')\r\nconst $titleUrl = $('.title-url')\r\n\r\nconst addButton = document.querySelector('.addButton')\r\nconst favDialog = document.querySelector('#favDialog')\r\n\r\n// const editButtonOne = document.querySelectorAll('.editButton')\r\nconst favDialogEdit = document.querySelector('#favDialog-edit')\r\nconst $favDialogEdit = $('#favDialog-edit')\r\n\r\nconst cancel = document.querySelector('#cancel')\r\nconst cancelEdit = document.querySelector('#cancel-edit')\r\n\r\nconst $inputNameEdit = $('#title-field-edit')\r\nconst $inputUrlEdit =$('#url-field-edit')\r\nconst $doneEdit = $('#done-edit')\r\n\r\nconst $done = $('#done')\r\nconst $deleteEdit = $('#delete-edit')\r\n\r\nconst x = localStorage.getItem('x')\r\nconst xObject = JSON.parse(x)\r\nvar hashMap = [\r\n    {name: 'stackoverflow', url: 'https://stackoverflow.com'},\r\n    {name: 'github', url: 'https://github.com'},\r\n    {name: '新浪微博', url: 'https://weibo.com'},\r\n    {name: '豆瓣', url: 'https://www.douban.com'}]\r\n\r\nconst $itemBox = $('.itemBox')\r\nconst $lastLi = $('.addItem')\r\n\r\n/**\r\n * 首次登陆渲染页面\r\n */\r\ndebugger\r\nreload('async')\r\n\r\n\r\n/**\r\n * 弹窗动效\r\n */\r\n//输入框focus效果\r\n$inputName.focus(() =>{\r\n    $titleName.addClass('focused')\r\n})\r\n\r\n$inputName.blur(() =>{\r\n    $titleName.removeClass('focused')\r\n})\r\n\r\n$inputUrl.focus(() =>{\r\n    $titleUrl.addClass('focused')\r\n})\r\n\r\n$inputUrl.blur(() =>{\r\n    $titleUrl.removeClass('focused')\r\n})\r\n\r\n$inputNameEdit.focus(() =>{\r\n    $titleName.addClass('focused')\r\n})\r\n\r\n$inputNameEdit.blur(() =>{\r\n    $titleName.removeClass('focused')\r\n})\r\n\r\n$inputUrlEdit.focus(() =>{\r\n    $titleUrl.addClass('focused')\r\n})\r\n\r\n$inputUrlEdit.blur(() =>{\r\n    $titleUrl.removeClass('focused')\r\n})\r\n\r\n//点击添加按钮出现dialog\r\naddButton.addEventListener('click', function onOpen() {\r\n    if (typeof favDialog.showModal === \"function\") {\r\n        favDialog.showModal();\r\n    } else {\r\n        alert(\"The dialog API is not supported by this browser\");\r\n    };\r\n});\r\n\r\n\r\n//创建弹窗：点击取消关闭窗口\r\ncancel.addEventListener('click',(e)=>{\r\n    favDialog.close();\r\n})\r\n\r\n//编辑弹窗：点击取消关闭窗口\r\ncancelEdit.addEventListener('click',(e)=>{\r\n    favDialogEdit.close();\r\n})\r\n\r\n//创建弹窗：点击完成动效\r\n$inputUrl.change(()=>{\r\n    if ($inputUrl.val().length > 0 ){\r\n        $done.removeAttr('disabled')\r\n    }else if ($inputUrl.val().length === 0){\r\n        $done.attr('disabled','disabled')\r\n    }\r\n})\r\n\r\n//编辑弹窗：点击完成动效\r\n$inputUrlEdit.change(()=>{\r\n    if ($inputUrlEdit.val().length > 0 ){\r\n        $doneEdit.removeAttr('disabled')\r\n    }else if ($inputUrlEdit.val().length === 0){\r\n        $doneEdit.attr('disabled','disabled')\r\n    }\r\n})\r\n\r\n\r\n//创建弹窗： 点击完成重新渲染节点\r\n$done.on('click', () => {\r\n    reload('create')\r\n})\r\n\r\n//编辑弹窗： 点击完成重新渲染节点\r\n// $doneEdit.on('click', () => {\r\n//     let index = action()\r\n//     reload('edit',index)\r\n// })\r\n\r\n//编辑弹窗： 点击删除重新渲染\r\n// $deleteEdit.on('click',() => {\r\n//     let index = action()\r\n//     reload('remove',index)\r\n// })\r\n\r\n\r\n\r\n/**\r\n *\r\n *  获取localstorage中的值\r\n */\r\nfunction getLocalStorage() {\r\n    if (x){\r\n        return  xObject\r\n    }else{\r\n        return hashMap\r\n    }\r\n}\r\n\r\n/**\r\n * 设置localstorage的值\r\n * @param {Boolean} positive true:  内存 -> 本地（localstorage）\r\n *                           false: 本地 -> 内存\r\n */\r\n\r\nfunction asyncLocalStorage(positive) {\r\n    if (positive) {\r\n        const string = JSON.stringify(hashMap)\r\n        window.localStorage.setItem('x', string)\r\n    } else {\r\n        hashMap = getLocalStorage()\r\n    }\r\n}\r\n\r\n/**\r\n *  获取历史记录\r\n */\r\nconst getHistoryValue = (index) => {\r\n    let content = hashMap[index]\r\n    let url = content.url\r\n    let name = content.name\r\n    document.querySelector('#title-field-edit').value = name\r\n    if (url.indexOf('http') !== 0 && url.length!==0) {\r\n        url = 'https://' + url\r\n    }\r\n    document.querySelector('#url-field-edit').value = url\r\n}\r\n\r\n\r\n/**\r\n * 重置\r\n * ---\r\n * @param {String} type   类型\r\n * @param {Number} index  索引\r\n * ---\r\n */\r\n\r\nfunction reload(type,index) {\r\n    if (type === 'async'){\r\n        asyncLocalStorage(false)\r\n    }\r\n    if(type === 'remove'){\r\n        hashMap.splice(index,1)\r\n        asyncLocalStorage(true)\r\n    }\r\n    if(type === 'create'){\r\n        let url = $inputUrl.val()\r\n        let name = $inputName.val()\r\n        if (url.indexOf('http') !== 0 && url.length!==0) {\r\n            url = 'https://' + url\r\n        }\r\n        hashMap.push({\r\n            name: name,\r\n            url: url\r\n        })\r\n        asyncLocalStorage(true)\r\n    }\r\n    if(type === 'edit'){\r\n        let url = $inputUrlEdit.val()\r\n        let name = $inputNameEdit.val()\r\n        if (url.indexOf('http') !== 0 && url.length!==0) {\r\n            url = 'https://' + url\r\n        }\r\n        hashMap.splice(index,1)\r\n        console.log(hashMap.splice(index, 1));\r\n        hashMap.splice(index,0,{\r\n            name: name,\r\n            url: url\r\n        })\r\n        console.log(hashMap);\r\n        asyncLocalStorage(true)\r\n    }\r\n    createLi()\r\n\r\n    //点击编辑按钮出现dialog\r\n    document.querySelectorAll('.editButton').forEach((item,index)=> {\r\n        item.addEventListener('click', function onOpen() {\r\n            if (typeof favDialogEdit.showModal === \"function\") {\r\n                favDialogEdit.showModal();\r\n            } else {\r\n                alert(\"The dialog API is not supported by this browser\");\r\n            }\r\n            //获取原始值\r\n            let idValue = item.id\r\n            console.log('clicked div:' + idValue);\r\n            getHistoryValue(idValue)\r\n\r\n            //编辑弹窗： 点击完成重新渲染节点\r\n            $doneEdit.on('click', () => {\r\n                hashMap.splice(idValue,1)\r\n                asyncLocalStorage(true)\r\n            })\r\n\r\n            //编辑弹窗： 点击删除重新渲染\r\n            $deleteEdit.on('click',() => {\r\n                reload('remove',idValue)\r\n                favDialogEdit.close();\r\n            })\r\n        })\r\n    })\r\n}\r\n\r\n\r\n/**\r\n *\r\n * 创建节点\r\n */\r\n\r\nfunction createLi () {\r\n    $itemBox.find('.item').remove()\r\n    hashMap.forEach((node, index) => {\r\n\r\n        const $li = $(`\r\n                <div class=\"itemContainer item\" draggable=\"true\" >\r\n                    <div class=\"itemLinkBox\">\r\n                        <div class=\"itemWrapper\">\r\n                            <div class=\"itemLogo\">\r\n                                <svg class=\"icon\">\r\n                                    <use xlink:href=\"#icon-valentine_-cupid-love-heart-god\"></use>\r\n                                </svg>\r\n                            </div>\r\n                            <div class=\"itemTitle\">${node.name}</div>\r\n                        </div>\r\n                    </div>\r\n                    <button class=\"editButton\" id=\"${index}\"  type=\"button\" >\r\n                        <svg class=\"icon\">\r\n                            <use xlink:href=\"#icon-point\"></use>\r\n                        </svg>\r\n                    </button>\r\n                </div>\r\n        `).insertBefore($lastLi)\r\n\r\n        //item点击动效\r\n        $li.on('click', () => {\r\n            window.open(node.url)\r\n        })\r\n\r\n        $li.on('click', '.editButton', (e) => {\r\n            e.stopPropagation() // 阻止冒泡\r\n            // $favDialogEdit[0].showModal()\r\n            // console.log(index);\r\n            // console.log('clicked div:' + index);\r\n            // getHistoryValue(index)\r\n            //\r\n            // $deleteEdit.on('click',() => {\r\n            //     reload('remove',index)\r\n            //     $favDialogEdit[0].close()\r\n            // })\r\n            //\r\n            // $doneEdit.on('click', () => {\r\n            //     reload('edit',index)\r\n            // })\r\n        })\r\n\r\n    })\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]}