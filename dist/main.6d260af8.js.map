{"version":3,"sources":["main.js"],"names":["$searchButton","$","on","click","css","mouseout","$inputName","$inputUrl","$titleName","$titleUrl","inputName","document","querySelector","inputUrl","addButton","favDialog","favDialogEdit","$favDialogEdit","cancel","cancelEdit","$inputNameEdit","$inputUrlEdit","$doneEdit","$done","$deleteEdit","x","localStorage","getItem","xObject","JSON","parse","hashMap","name","url","$itemBox","$lastLi","reload","focus","addClass","blur","removeClass","addEventListener","onOpen","showModal","alert","console","log","value","e","close","keydown","val","length","removeAttr","attr","splice","i","asyncLocalStorage","getLocalStorage","positive","string","stringify","window","setItem","getHistoryValue","index","content","indexOf","type","push","createLi","find","remove","forEach","node","$li","insertBefore","open","stopPropagation"],"mappings":"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","file":"main.6d260af8.js","sourceRoot":"..\\src","sourcesContent":["/**\r\n * 搜索框动效\r\n */\r\nconst $searchButton = $('.searchForm>button')\r\n$('.searchForm>input').on({\r\n    click: () => {\r\n        $searchButton.css('opacity', '1')\r\n    },\r\n    mouseout: () => {\r\n        $searchButton.css('opacity', '0')\r\n    }\r\n})\r\n\r\n/**\r\n * 弹窗参数\r\n *\r\n */\r\n\r\nconst $inputName = $('.input-name')\r\nconst $inputUrl = $('.input-url')\r\nconst $titleName = $('.title-name')\r\nconst $titleUrl = $('.title-url')\r\n\r\nconst inputName = document.querySelector('#title-field')\r\nconst inputUrl = document.querySelector('#url-field')\r\n\r\n\r\n\r\nconst addButton = document.querySelector('.addButton')\r\nconst favDialog = document.querySelector('#favDialog')\r\n\r\n// const editButtonOne = document.querySelectorAll('.editButton')\r\nconst favDialogEdit = document.querySelector('#favDialog-edit')\r\nconst $favDialogEdit = $('#favDialog-edit')\r\n\r\nconst cancel = document.querySelector('#cancel')\r\nconst cancelEdit = document.querySelector('#cancel-edit')\r\n\r\nconst $inputNameEdit = $('#title-field-edit')\r\nconst $inputUrlEdit = $('#url-field-edit')\r\nconst $doneEdit = $('#done-edit')\r\n\r\nconst $done = $('#done')\r\nconst $deleteEdit = $('#delete-edit')\r\n\r\nconst x = localStorage.getItem('x')\r\nconst xObject = JSON.parse(x)\r\nvar hashMap = [{\r\n        name: 'stackoverflow',\r\n        url: 'https://stackoverflow.com'\r\n    },\r\n    {\r\n        name: 'github',\r\n        url: 'https://github.com'\r\n    },\r\n    {\r\n        name: '新浪微博',\r\n        url: 'https://weibo.com'\r\n    },\r\n    {\r\n        name: '豆瓣',\r\n        url: 'https://www.douban.com'\r\n    }\r\n]\r\n\r\nconst $itemBox = $('.itemBox')\r\nconst $lastLi = $('.addItem')\r\n\r\n/**\r\n * 首次登陆渲染页面\r\n */\r\n\r\nreload('async')\r\n\r\n\r\n/**\r\n * 弹窗动效\r\n */\r\n//输入框focus效果\r\n$inputName.focus(() => {\r\n    $titleName.addClass('focused')\r\n})\r\n\r\n$inputName.blur(() => {\r\n    $titleName.removeClass('focused')\r\n})\r\n\r\n$inputUrl.focus(() => {\r\n    $titleUrl.addClass('focused')\r\n})\r\n\r\n$inputUrl.blur(() => {\r\n    $titleUrl.removeClass('focused')\r\n})\r\n\r\n$inputNameEdit.focus(() => {\r\n    $titleName.addClass('focused')\r\n})\r\n\r\n$inputNameEdit.blur(() => {\r\n    $titleName.removeClass('focused')\r\n})\r\n\r\n$inputUrlEdit.focus(() => {\r\n    $titleUrl.addClass('focused')\r\n})\r\n\r\n$inputUrlEdit.blur(() => {\r\n    $titleUrl.removeClass('focused')\r\n})\r\n\r\n//点击添加按钮出现dialog\r\naddButton.addEventListener('click', function onOpen() {\r\n\r\n    if (typeof favDialog.showModal === \"function\") {\r\n        favDialog.showModal();\r\n    } else {\r\n        alert(\"The dialog API is not supported by this browser\");\r\n    };\r\n    console.log(inputName.value, inputUrl.value)\r\n    inputName.value = ''\r\n    inputUrl.value = ''\r\n});\r\n\r\n\r\n//创建弹窗：点击取消关闭窗口\r\ncancel.addEventListener('click', (e) => {\r\n    favDialog.close();\r\n})\r\n\r\n//编辑弹窗：点击取消关闭窗口\r\ncancelEdit.addEventListener('click', (e) => {\r\n    favDialogEdit.close();\r\n})\r\n\r\n//创建弹窗：点击完成动效\r\n$inputUrl.keydown(() => {\r\n    console.log('111')\r\n    if ($inputUrl.val().length > 0) {\r\n        $done.removeAttr('disabled')\r\n    } else if ($inputUrl.val().length === 0) {\r\n        $done.attr('disabled', 'disabled')\r\n    }\r\n})\r\n\r\n//编辑弹窗：点击完成动效\r\n$inputUrlEdit.keydown(() => {\r\n    if ($inputUrlEdit.val().length > 0) {\r\n        $doneEdit.removeAttr('disabled')\r\n    } else if ($inputUrlEdit.val().length === 0) {\r\n        $doneEdit.attr('disabled', 'disabled')\r\n    }\r\n})\r\n\r\n\r\n//创建弹窗： 点击完成重新渲染节点\r\n$done.on('click', () => {\r\n    reload('create')\r\n})\r\n\r\n//编辑弹窗： 点击完成重新渲染节点\r\n$doneEdit.on('click', (e) => {\r\n\r\n    hashMap.splice(i, 1)\r\n    asyncLocalStorage(true)\r\n})\r\n\r\n//编辑弹窗： 点击删除重新渲染\r\n$deleteEdit.on('click', (e) => {\r\n    console.log(e)\r\n    console.log('删除:' + i)\r\n    reload('remove', i)\r\n    favDialogEdit.close();\r\n})\r\n\r\n\r\n/**\r\n *\r\n *  获取localstorage中的值\r\n */\r\nfunction getLocalStorage() {\r\n    if (x) {\r\n        return xObject\r\n    } else {\r\n        return hashMap\r\n    }\r\n}\r\n\r\n/**\r\n * 设置localstorage的值\r\n * @param {Boolean} positive true:  内存 -> 本地（localstorage）\r\n *                           false: 本地 -> 内存\r\n */\r\n\r\nfunction asyncLocalStorage(positive) {\r\n    if (positive) {\r\n        const string = JSON.stringify(hashMap)\r\n        window.localStorage.setItem('x', string)\r\n    } else {\r\n        hashMap = getLocalStorage()\r\n    }\r\n}\r\n\r\n/**\r\n *  获取历史记录\r\n */\r\nconst getHistoryValue = (index) => {\r\n    let content = hashMap[index]\r\n    let url = content.url\r\n    let name = content.name\r\n    document.querySelector('#title-field-edit').value = name\r\n    if (url.indexOf('http') !== 0 && url.length !== 0) {\r\n        url = 'https://' + url\r\n    }\r\n    document.querySelector('#url-field-edit').value = url\r\n}\r\n\r\n\r\n/**\r\n * 重置\r\n * ---\r\n * @param {String} type   类型\r\n * @param {Number} index  索引\r\n * ---\r\n */\r\n\r\nlet i = null\r\n\r\nfunction reload(type, index) {\r\n    if (type === 'async') {\r\n        asyncLocalStorage(false)\r\n    }\r\n    if (type === 'remove') {\r\n        hashMap.splice(index, 1)\r\n        asyncLocalStorage(true)\r\n    }\r\n    if (type === 'create') {\r\n        let url = $inputUrl.val()\r\n        let name = $inputName.val()\r\n        if (url.indexOf('http') !== 0 && url.length !== 0) {\r\n            url = 'https://' + url\r\n        }\r\n        hashMap.push({\r\n            name: name,\r\n            url: url\r\n        })\r\n        asyncLocalStorage(true)\r\n    }\r\n    if (type === 'edit') {\r\n        let url = $inputUrlEdit.val()\r\n        let name = $inputNameEdit.val()\r\n        if (url.indexOf('http') !== 0 && url.length !== 0) {\r\n            url = 'https://' + url\r\n        }\r\n        hashMap.splice(index, 1)\r\n        console.log(hashMap.splice(index, 1));\r\n        hashMap.splice(index, 0, {\r\n            name: name,\r\n            url: url\r\n        })\r\n        console.log(hashMap);\r\n        asyncLocalStorage(true)\r\n    }\r\n    createLi()\r\n}\r\n\r\n/**\r\n *\r\n * 创建节点\r\n */\r\n\r\nfunction createLi() {\r\n    $itemBox.find('.item').remove()\r\n    hashMap.forEach((node, index) => {\r\n\r\n        const $li = $(`\r\n                <div class=\"itemContainer item\" draggable=\"true\" >\r\n                    <div class=\"itemLinkBox\">\r\n                        <div class=\"itemWrapper\">\r\n                            <div class=\"itemLogo\">\r\n                                <svg class=\"icon\">\r\n                                    <use xlink:href=\"#icon-valentine_-cupid-love-heart-god\"></use>\r\n                                </svg>\r\n                            </div>\r\n                            <div class=\"itemTitle\">${node.name}</div>\r\n                        </div>\r\n                    </div>\r\n                    <button class=\"editButton\" id=\"${index}\"  type=\"button\"\">\r\n                        <svg class=\"icon\">\r\n                            <use xlink:href=\"#icon-point\"></use>\r\n                        </svg>\r\n                    </button>\r\n                </div>\r\n        `).insertBefore($lastLi)\r\n\r\n        //item点击动效\r\n        $li.on('click', () => {\r\n            window.open(node.url)\r\n        })\r\n\r\n        $li.on('click', '.editButton', (e) => {\r\n            console.log(e)\r\n            e.stopPropagation() // 阻止冒泡\r\n            $favDialogEdit[0].showModal()\r\n            console.log(index);\r\n            console.log('clicked div:' + index);\r\n            getHistoryValue(index)\r\n            i = index\r\n        })\r\n\r\n    })\r\n\r\n\r\n}"]}