{"version":3,"sources":["main.js"],"names":["$searchButton","$","on","click","css","mouseout","$inputName","$inputUrl","$titleName","$titleUrl","addButton","document","querySelector","favDialog","favDialogEdit","cancel","cancelEdit","$inputNameEdit","$inputUrlEdit","$doneEdit","$done","$deleteEdit","x","localStorage","getItem","xObject","JSON","parse","hashMap","name","url","$itemBox","$lastLi","reload","focus","addClass","blur","removeClass","addEventListener","onOpen","showModal","alert","action","querySelectorAll","forEach","item","index","idValue","id","console","log","getHistoryValue","e","close","change","val","length","removeAttr","attr","getLocalStorage","asyncLocalStorage","positive","string","stringify","window","setItem","content","value","indexOf","type","createLi","splice","push","find","remove","node","$li","insertBefore","open","stopPropagation"],"mappings":"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","file":"main.03817368.js","sourceRoot":"..\\src","sourcesContent":["\r\n/**\r\n * 搜索框动效\r\n */\r\nconst $searchButton = $('.searchForm>button')\r\n$('.searchForm>input').on({\r\n    click: () => {\r\n        $searchButton.css('opacity', '1')\r\n    },\r\n    mouseout: () => {\r\n        $searchButton.css('opacity', '0')\r\n    }\r\n})\r\n\r\n/**\r\n * 弹窗参数\r\n *\r\n */\r\n\r\nconst $inputName = $('.input-name')\r\nconst $inputUrl = $('.input-url')\r\nconst $titleName = $('.title-name')\r\nconst $titleUrl = $('.title-url')\r\n\r\nconst addButton = document.querySelector('.addButton')\r\nconst favDialog = document.querySelector('#favDialog')\r\n\r\n// const editButtonOne = document.querySelectorAll('.editButton')\r\nconst favDialogEdit = document.querySelector('#favDialog-edit')\r\n\r\nconst cancel = document.querySelector('#cancel')\r\nconst cancelEdit = document.querySelector('#cancel-edit')\r\n\r\nconst $inputNameEdit = $('#title-field-edit')\r\nconst $inputUrlEdit =$('#url-field-edit')\r\nconst $doneEdit = $('#done-edit')\r\n\r\nconst $done = $('#done')\r\nconst $deleteEdit = $('delete-edit')\r\n\r\nconst x = localStorage.getItem('x')\r\nconst xObject = JSON.parse(x)\r\nvar hashMap = [\r\n    {name: 'stackoverflow', url: 'https://stackoverflow.com'},\r\n    {name: 'github', url: 'https://github.com'},\r\n    {name: '新浪微博', url: 'https://weibo.com'},\r\n    {name: '豆瓣', url: 'https://www.douban.com'}]\r\n\r\nconst $itemBox = $('.itemBox')\r\nconst $lastLi = $('.addItem')\r\n\r\n/**\r\n * 首次登陆渲染页面\r\n */\r\ndebugger\r\nreload('async')\r\n\r\n\r\n/**\r\n * 弹窗动效\r\n */\r\n//输入框focus效果\r\n$inputName.focus(() =>{\r\n    $titleName.addClass('focused')\r\n})\r\n\r\n$inputName.blur(() =>{\r\n    $titleName.removeClass('focused')\r\n})\r\n\r\n$inputUrl.focus(() =>{\r\n    $titleUrl.addClass('focused')\r\n})\r\n\r\n$inputUrl.blur(() =>{\r\n    $titleUrl.removeClass('focused')\r\n})\r\n\r\n$inputNameEdit.focus(() =>{\r\n    $titleName.addClass('focused')\r\n})\r\n\r\n$inputNameEdit.blur(() =>{\r\n    $titleName.removeClass('focused')\r\n})\r\n\r\n$inputUrlEdit.focus(() =>{\r\n    $titleUrl.addClass('focused')\r\n})\r\n\r\n$inputUrlEdit.blur(() =>{\r\n    $titleUrl.removeClass('focused')\r\n})\r\n\r\n//点击添加按钮出现dialog\r\naddButton.addEventListener('click', function onOpen() {\r\n    if (typeof favDialog.showModal === \"function\") {\r\n        favDialog.showModal();\r\n    } else {\r\n        alert(\"The dialog API is not supported by this browser\");\r\n    };\r\n});\r\n\r\n\r\n\r\n\r\n//点击编辑按钮出现dialog\r\naction()\r\nfunction action() {\r\n    document.querySelectorAll('.editButton').forEach((item,index)=> {\r\n        item.addEventListener('click', function onOpen() {\r\n            if (typeof favDialogEdit.showModal === \"function\") {\r\n                favDialogEdit.showModal();\r\n            } else {\r\n                alert(\"The dialog API is not supported by this browser\");\r\n            }\r\n            //获取原始值\r\n            let idValue = item.id\r\n            console.log('clicked div:' + idValue);\r\n            getHistoryValue(idValue)\r\n            return idValue\r\n            //编辑弹窗： 点击完成重新渲染节点\r\n            // $doneEdit.on('click', () => {\r\n            //     reload('edit',idValue)\r\n            // })\r\n\r\n            //编辑弹窗： 点击删除重新渲染\r\n            // $deleteEdit.on('click',() => {\r\n            //     reload('remove',idValue)\r\n            // })\r\n        })\r\n    })\r\n}\r\n\r\n\r\n\r\n//创建弹窗：点击取消关闭窗口\r\ncancel.addEventListener('click',(e)=>{\r\n    favDialog.close();\r\n})\r\n\r\n//编辑弹窗：点击取消关闭窗口\r\ncancelEdit.addEventListener('click',(e)=>{\r\n    favDialogEdit.close();\r\n})\r\n\r\n//创建弹窗：点击完成动效\r\n$inputUrl.change(()=>{\r\n    if ($inputUrl.val().length > 0 ){\r\n        $done.removeAttr('disabled')\r\n    }else if ($inputUrl.val().length === 0){\r\n        $done.attr('disabled','disabled')\r\n    }\r\n})\r\n\r\n//编辑弹窗：点击完成动效\r\n$inputUrlEdit.change(()=>{\r\n    if ($inputUrlEdit.val().length > 0 ){\r\n        $doneEdit.removeAttr('disabled')\r\n    }else if ($inputUrlEdit.val().length === 0){\r\n        $doneEdit.attr('disabled','disabled')\r\n    }\r\n})\r\n\r\n\r\n//创建弹窗： 点击完成重新渲染节点\r\n$done.on('click', () => {\r\n    reload('create')\r\n})\r\n\r\n//编辑弹窗： 点击完成重新渲染节点\r\n$doneEdit.on('click', () => {\r\n    let index = action()\r\n    reload('edit',index)\r\n})\r\n\r\n//编辑弹窗： 点击删除重新渲染\r\n$deleteEdit.on('click',() => {\r\n    let index = action()\r\n    reload('remove',index)\r\n})\r\n\r\n\r\n\r\n/**\r\n *\r\n *  获取localstorage中的值\r\n */\r\nfunction getLocalStorage() {\r\n    if (x){\r\n        return  xObject\r\n    }else{\r\n        return hashMap\r\n    }\r\n}\r\n\r\n/**\r\n * 设置localstorage的值\r\n * @param {Boolean} positive true:  内存 -> 本地（localstorage）\r\n *                           false: 本地 -> 内存\r\n */\r\n\r\nfunction asyncLocalStorage(positive) {\r\n    if (positive) {\r\n        const string = JSON.stringify(hashMap)\r\n        window.localStorage.setItem('x', string)\r\n    } else {\r\n        hashMap = getLocalStorage()\r\n    }\r\n}\r\n\r\n/**\r\n *  获取历史记录\r\n */\r\nconst getHistoryValue = (index) => {\r\n    let content = hashMap[index]\r\n    let url = content.url\r\n    let name = content.name\r\n    document.querySelector('#title-field-edit').value = name\r\n    if (url.indexOf('http') !== 0 && url.length!==0) {\r\n        url = 'https://' + url\r\n    }\r\n    document.querySelector('#url-field-edit').value = url\r\n}\r\n\r\n/**\r\n *  获得元素索引\r\n */\r\n// const getIndex = () => {\r\n//     document.querySelectorAll('.editButton').forEach((item,index) => {\r\n//         item.addEventListener('click',() => {\r\n//             let idValue = item.id\r\n//             return idValue\r\n//         })\r\n//     })\r\n// }\r\n\r\n\r\n\r\n/**\r\n * 重置\r\n * ---\r\n * @param {String} type   类型\r\n * @param {Number} index  索引\r\n * ---\r\n */\r\n\r\nfunction reload(type,index) {\r\n    if (type === 'async'){\r\n        asyncLocalStorage(false)\r\n        createLi()\r\n    }else if(type === 'remove'){\r\n        hashMap.splice(index,1)\r\n        asyncLocalStorage(true)\r\n        createLi()\r\n    }else if(type === 'create'){\r\n        let url = $inputUrl.val()\r\n        let name = $inputName.val()\r\n        if (url.indexOf('http') !== 0 && url.length!==0) {\r\n            url = 'https://' + url\r\n        }\r\n        hashMap.push({\r\n            name: name,\r\n            url: url\r\n        })\r\n        asyncLocalStorage(true)\r\n        createLi()\r\n    }else if(type === 'edit'){\r\n        let url = $inputUrlEdit.val()\r\n        let name = $inputNameEdit.val()\r\n        if (url.indexOf('http') !== 0 && url.length!==0) {\r\n            url = 'https://' + url\r\n        }\r\n        hashMap.splice(index,1)\r\n        console.log(hashMap.splice(index, 1));\r\n        hashMap.splice(index,0,{\r\n            name: name,\r\n            url: url\r\n        })\r\n        console.log(hashMap);\r\n        asyncLocalStorage(true)\r\n        createLi()\r\n    }\r\n}\r\n\r\n\r\n\r\n/**\r\n *\r\n * 创建节点\r\n */\r\n\r\n\r\nfunction createLi () {\r\n    $itemBox.find('.item').remove()\r\n    hashMap.forEach((node, index) => {\r\n        const $li = $(`\r\n                <div class=\"itemContainer item\" draggable=\"true\" >\r\n                    <div class=\"itemLinkBox\">\r\n                        <div class=\"itemWrapper\">\r\n                            <div class=\"itemLogo\">\r\n                                <svg class=\"icon\">\r\n                                    <use xlink:href=\"#icon-valentine_-cupid-love-heart-god\"></use>\r\n                                </svg>\r\n                            </div>\r\n                            <div class=\"itemTitle\">${node.name}</div>\r\n                        </div>\r\n                    </div>\r\n                    <button class=\"editButton\" id=\"${index}\">\r\n                        <svg class=\"icon\">\r\n                            <use xlink:href=\"#icon-point\"></use>\r\n                        </svg>\r\n                    </button>\r\n                </div>\r\n        `).insertBefore($lastLi)\r\n        //item点击动效\r\n        $li.on('click', () => {\r\n            window.open(node.url)\r\n        })\r\n\r\n        $li.on('click', '.editButton', (e) => {\r\n            e.stopPropagation() // 阻止冒泡\r\n        })\r\n    })\r\n}\r\n\r\n"]}